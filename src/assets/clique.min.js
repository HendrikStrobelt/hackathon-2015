!function(){function e(e){var t,n,i,r="",o=-1;if(e&&e.length)for(i=e.length;(o+=1)<i;)t=e.charCodeAt(o),n=i>o+1?e.charCodeAt(o+1):0,t>=55296&&56319>=t&&n>=56320&&57343>=n&&(t=65536+((1023&t)<<10)+(1023&n),o+=1),127>=t?r+=String.fromCharCode(t):2047>=t?r+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function t(e){var t,n,i,r,o,s,a=[];if(t=n=i=r=o=0,e&&e.length)for(s=e.length,e+="";s>t;)i=e.charCodeAt(t),n+=1,128>i?(a[n]=String.fromCharCode(i),t+=1):i>191&&224>i?(r=e.charCodeAt(t+1),a[n]=String.fromCharCode((31&i)<<6|63&r),t+=2):(r=e.charCodeAt(t+1),o=e.charCodeAt(t+2),a[n]=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),t+=3);return a.join("")}function n(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function i(e,t){return e<<t|e>>>32-t}function r(e,t){for(var n,i=t?"0123456789ABCDEF":"0123456789abcdef",r="",o=0,s=e.length;s>o;o+=1)n=e.charCodeAt(o),r+=i.charAt(n>>>4&15)+i.charAt(15&n);return r}function o(e){var t,n=32*e.length,i="";for(t=0;n>t;t+=8)i+=String.fromCharCode(e[t>>5]>>>24-t%32&255);return i}function s(e){var t,n=32*e.length,i="";for(t=0;n>t;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function a(e){var t,n=8*e.length,i=Array(e.length>>2),r=i.length;for(t=0;r>t;t+=1)i[t]=0;for(t=0;n>t;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function u(e){var t,n=8*e.length,i=Array(e.length>>2),r=i.length;for(t=0;r>t;t+=1)i[t]=0;for(t=0;n>t;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return i}function c(e,t){var n,i,r,o,s,a,u,c,h=t.length,l=Array();for(a=Array(Math.ceil(e.length/2)),o=a.length,n=0;o>n;n+=1)a[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);for(;a.length>0;){for(s=Array(),r=0,n=0;n<a.length;n+=1)r=(r<<16)+a[n],i=Math.floor(r/h),r-=i*h,(s.length>0||i>0)&&(s[s.length]=i);l[l.length]=r,a=s}for(u="",n=l.length-1;n>=0;n--)u+=t.charAt(l[n]);for(c=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),n=u.length;c>n;n+=1)u=t[0]+u;return u}function h(e,t){var n,i,r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="",a=e.length;for(t=t||"=",n=0;a>n;n+=3)for(r=e.charCodeAt(n)<<16|(a>n+1?e.charCodeAt(n+1)<<8:0)|(a>n+2?e.charCodeAt(n+2):0),i=0;4>i;i+=1)s+=8*n+6*i>8*e.length?t:o.charAt(r>>>6*(3-i)&63);return s}var l;l={VERSION:"1.0.5",Base64:function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="=",r=!0;this.encode=function(t){var o,s,a,u="",c=t.length;for(i=i||"=",t=r?e(t):t,o=0;c>o;o+=3)for(a=t.charCodeAt(o)<<16|(c>o+1?t.charCodeAt(o+1)<<8:0)|(c>o+2?t.charCodeAt(o+2):0),s=0;4>s;s+=1)u+=8*o+6*s>8*c?i:n.charAt(a>>>6*(3-s)&63);return u},this.decode=function(e){var o,s,a,u,c,h,l,d,f,p,g="",y=[];if(!e)return e;o=p=0,e=e.replace(new RegExp("\\"+i,"gi"),"");do c=n.indexOf(e.charAt(o+=1)),h=n.indexOf(e.charAt(o+=1)),l=n.indexOf(e.charAt(o+=1)),d=n.indexOf(e.charAt(o+=1)),f=c<<18|h<<12|l<<6|d,s=f>>16&255,a=f>>8&255,u=255&f,p+=1,y[p]=64===l?String.fromCharCode(s):64===d?String.fromCharCode(s,a):String.fromCharCode(s,a,u);while(o<e.length);return g=y.join(""),g=r?t(g):g},this.setPad=function(e){return i=e||i,this},this.setTab=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},CRC32:function(t){var n,i,r,o=0,s=0,a=0;for(t=e(t),n=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),o=-1^o,i=0,r=t.length;r>i;i+=1)a=255&(o^t.charCodeAt(i)),s="0x"+n.substr(9*a,8),o=o>>>8^s;return(-1^o)>>>0},MD5:function(t){function o(t){return t=D?e(t):t,s(l(a(t),8*t.length))}function u(t,n){var i,r,o,u,c;for(t=D?e(t):t,n=D?e(n):n,i=a(t),i.length>16&&(i=l(i,8*t.length)),r=Array(16),o=Array(16),c=0;16>c;c+=1)r[c]=909522486^i[c],o[c]=1549556828^i[c];return u=l(r.concat(a(n)),512+8*n.length),s(l(o.concat(u),640))}function l(e,t){var i,r,o,s,a,u=1732584193,c=-271733879,h=-1732584194,l=271733878;for(e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t,i=0;i<e.length;i+=16)r=u,o=c,s=h,a=l,u=f(u,c,h,l,e[i+0],7,-680876936),l=f(l,u,c,h,e[i+1],12,-389564586),h=f(h,l,u,c,e[i+2],17,606105819),c=f(c,h,l,u,e[i+3],22,-1044525330),u=f(u,c,h,l,e[i+4],7,-176418897),l=f(l,u,c,h,e[i+5],12,1200080426),h=f(h,l,u,c,e[i+6],17,-1473231341),c=f(c,h,l,u,e[i+7],22,-45705983),u=f(u,c,h,l,e[i+8],7,1770035416),l=f(l,u,c,h,e[i+9],12,-1958414417),h=f(h,l,u,c,e[i+10],17,-42063),c=f(c,h,l,u,e[i+11],22,-1990404162),u=f(u,c,h,l,e[i+12],7,1804603682),l=f(l,u,c,h,e[i+13],12,-40341101),h=f(h,l,u,c,e[i+14],17,-1502002290),c=f(c,h,l,u,e[i+15],22,1236535329),u=p(u,c,h,l,e[i+1],5,-165796510),l=p(l,u,c,h,e[i+6],9,-1069501632),h=p(h,l,u,c,e[i+11],14,643717713),c=p(c,h,l,u,e[i+0],20,-373897302),u=p(u,c,h,l,e[i+5],5,-701558691),l=p(l,u,c,h,e[i+10],9,38016083),h=p(h,l,u,c,e[i+15],14,-660478335),c=p(c,h,l,u,e[i+4],20,-405537848),u=p(u,c,h,l,e[i+9],5,568446438),l=p(l,u,c,h,e[i+14],9,-1019803690),h=p(h,l,u,c,e[i+3],14,-187363961),c=p(c,h,l,u,e[i+8],20,1163531501),u=p(u,c,h,l,e[i+13],5,-1444681467),l=p(l,u,c,h,e[i+2],9,-51403784),h=p(h,l,u,c,e[i+7],14,1735328473),c=p(c,h,l,u,e[i+12],20,-1926607734),u=g(u,c,h,l,e[i+5],4,-378558),l=g(l,u,c,h,e[i+8],11,-2022574463),h=g(h,l,u,c,e[i+11],16,1839030562),c=g(c,h,l,u,e[i+14],23,-35309556),u=g(u,c,h,l,e[i+1],4,-1530992060),l=g(l,u,c,h,e[i+4],11,1272893353),h=g(h,l,u,c,e[i+7],16,-155497632),c=g(c,h,l,u,e[i+10],23,-1094730640),u=g(u,c,h,l,e[i+13],4,681279174),l=g(l,u,c,h,e[i+0],11,-358537222),h=g(h,l,u,c,e[i+3],16,-722521979),c=g(c,h,l,u,e[i+6],23,76029189),u=g(u,c,h,l,e[i+9],4,-640364487),l=g(l,u,c,h,e[i+12],11,-421815835),h=g(h,l,u,c,e[i+15],16,530742520),c=g(c,h,l,u,e[i+2],23,-995338651),u=y(u,c,h,l,e[i+0],6,-198630844),l=y(l,u,c,h,e[i+7],10,1126891415),h=y(h,l,u,c,e[i+14],15,-1416354905),c=y(c,h,l,u,e[i+5],21,-57434055),u=y(u,c,h,l,e[i+12],6,1700485571),l=y(l,u,c,h,e[i+3],10,-1894986606),h=y(h,l,u,c,e[i+10],15,-1051523),c=y(c,h,l,u,e[i+1],21,-2054922799),u=y(u,c,h,l,e[i+8],6,1873313359),l=y(l,u,c,h,e[i+15],10,-30611744),h=y(h,l,u,c,e[i+6],15,-1560198380),c=y(c,h,l,u,e[i+13],21,1309151649),u=y(u,c,h,l,e[i+4],6,-145523070),l=y(l,u,c,h,e[i+11],10,-1120210379),h=y(h,l,u,c,e[i+2],15,718787259),c=y(c,h,l,u,e[i+9],21,-343485551),u=n(u,r),c=n(c,o),h=n(h,s),l=n(l,a);return Array(u,c,h,l)}function d(e,t,r,o,s,a){return n(i(n(n(t,e),n(o,a)),s),r)}function f(e,t,n,i,r,o,s){return d(t&n|~t&i,e,t,r,o,s)}function p(e,t,n,i,r,o,s){return d(t&i|n&~i,e,t,r,o,s)}function g(e,t,n,i,r,o,s){return d(t^n^i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return d(n^(t|~i),e,t,r,o,s)}var w=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,m=t&&"string"==typeof t.pad?t.pda:"=",D=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(e){return r(o(e,D),w)},this.b64=function(e){return h(o(e),m)},this.any=function(e,t){return c(o(e,D),t)},this.raw=function(e){return o(e,D)},this.hex_hmac=function(e,t){return r(u(e,t),w)},this.b64_hmac=function(e,t){return h(u(e,t),m)},this.any_hmac=function(e,t,n){return c(u(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(w=e),this},this.setPad=function(e){return m=e||m,this},this.setUTF8=function(e){return"boolean"==typeof e&&(D=e),this}},SHA1:function(t){function s(t){return t=y?e(t):t,o(l(u(t),8*t.length))}function a(t,n){var i,r,s,a,c;for(t=y?e(t):t,n=y?e(n):n,i=u(t),i.length>16&&(i=l(i,8*t.length)),r=Array(16),s=Array(16),a=0;16>a;a+=1)r[a]=909522486^i[a],s[a]=1549556828^i[a];return c=l(r.concat(u(n)),512+8*n.length),o(l(s.concat(c),672))}function l(e,t){var r,o,s,a,u,c,h,l,p=Array(80),g=1732584193,y=-271733879,w=-1732584194,m=271733878,D=-1009589776;for(e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t,r=0;r<e.length;r+=16){for(a=g,u=y,c=w,h=m,l=D,o=0;80>o;o+=1)p[o]=16>o?e[r+o]:i(p[o-3]^p[o-8]^p[o-14]^p[o-16],1),s=n(n(i(g,5),d(o,y,w,m)),n(n(D,p[o]),f(o))),D=m,m=w,w=i(y,30),y=g,g=s;g=n(g,a),y=n(y,u),w=n(w,c),m=n(m,h),D=n(D,l)}return Array(g,y,w,m,D)}function d(e,t,n,i){return 20>e?t&n|~t&i:40>e?t^n^i:60>e?t&n|t&i|n&i:t^n^i}function f(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}var p=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,g=t&&"string"==typeof t.pad?t.pda:"=",y=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(e){return r(s(e,y),p)},this.b64=function(e){return h(s(e,y),g)},this.any=function(e,t){return c(s(e,y),t)},this.raw=function(e){return s(e,y)},this.hex_hmac=function(e,t){return r(a(e,t))},this.b64_hmac=function(e,t){return h(a(e,t),g)},this.any_hmac=function(e,t,n){return c(a(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(p=e),this},this.setPad=function(e){return g=e||g,this},this.setUTF8=function(e){return"boolean"==typeof e&&(y=e),this}},SHA256:function(t){function i(t,n){return t=n?e(t):t,o(m(u(t),8*t.length))}function s(t,n){t=B?e(t):t,n=B?e(n):n;var i,r=0,s=u(t),a=Array(16),c=Array(16);for(s.length>16&&(s=m(s,8*t.length));16>r;r+=1)a[r]=909522486^s[r],c[r]=1549556828^s[r];return i=m(a.concat(u(n)),512+8*n.length),o(m(c.concat(i),768))}function a(e,t){return e>>>t|e<<32-t}function l(e,t){return e>>>t}function d(e,t,n){return e&t^~e&n}function f(e,t,n){return e&t^e&n^t&n}function p(e){return a(e,2)^a(e,13)^a(e,22)}function g(e){return a(e,6)^a(e,11)^a(e,25)}function y(e){return a(e,7)^a(e,18)^l(e,3)}function w(e){return a(e,17)^a(e,19)^l(e,10)}function m(e,t){var i,r,o,s,a,u,c,h,l,m,b,v,B=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],C=new Array(64);for(e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t,l=0;l<e.length;l+=16){for(i=B[0],r=B[1],o=B[2],s=B[3],a=B[4],u=B[5],c=B[6],h=B[7],m=0;64>m;m+=1)C[m]=16>m?e[m+l]:n(n(n(w(C[m-2]),C[m-7]),y(C[m-15])),C[m-16]),b=n(n(n(n(h,g(a)),d(a,u,c)),D[m]),C[m]),v=n(p(i),f(i,r,o)),h=c,c=u,u=a,a=n(s,b),s=o,o=r,r=i,i=n(b,v);B[0]=n(i,B[0]),B[1]=n(r,B[1]),B[2]=n(o,B[2]),B[3]=n(s,B[3]),B[4]=n(a,B[4]),B[5]=n(u,B[5]),B[6]=n(c,B[6]),B[7]=n(h,B[7])}return B}var D,b=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,v=t&&"string"==typeof t.pad?t.pda:"=",B=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(e){return r(i(e,B))},this.b64=function(e){return h(i(e,B),v)},this.any=function(e,t){return c(i(e,B),t)},this.raw=function(e){return i(e,B)},this.hex_hmac=function(e,t){return r(s(e,t))},this.b64_hmac=function(e,t){return h(s(e,t),v)},this.any_hmac=function(e,t,n){return c(s(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(b=e),this},this.setPad=function(e){return v=e||v,this},this.setUTF8=function(e){return"boolean"==typeof e&&(B=e),this},D=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(t){function n(t){return t=v?e(t):t,o(s(u(t),8*t.length))}function i(t,n){t=v?e(t):t,n=v?e(n):n;var i,r=0,a=u(t),c=Array(32),h=Array(32);for(a.length>32&&(a=s(a,8*t.length));32>r;r+=1)c[r]=909522486^a[r],h[r]=1549556828^a[r];return i=s(c.concat(u(n)),1024+8*n.length),o(s(h.concat(i),1536))}function s(e,t){var n,i,r,o=new Array(80),s=new Array(16),u=[new a(1779033703,-205731576),new a(-1150833019,-2067093701),new a(1013904242,-23791573),new a(-1521486534,1595750129),new a(1359893119,-1377402159),new a(-1694144372,725511199),new a(528734635,-79577749),new a(1541459225,327033209)],c=new a(0,0),h=new a(0,0),D=new a(0,0),b=new a(0,0),v=new a(0,0),B=new a(0,0),C=new a(0,0),A=new a(0,0),E=new a(0,0),k=new a(0,0),F=new a(0,0),x=new a(0,0),S=new a(0,0),N=new a(0,0),q=new a(0,0),O=new a(0,0),_=new a(0,0);for(void 0===m&&(m=[new a(1116352408,-685199838),new a(1899447441,602891725),new a(-1245643825,-330482897),new a(-373957723,-2121671748),new a(961987163,-213338824),new a(1508970993,-1241133031),new a(-1841331548,-1357295717),new a(-1424204075,-630357736),new a(-670586216,-1560083902),new a(310598401,1164996542),new a(607225278,1323610764),new a(1426881987,-704662302),new a(1925078388,-226784913),new a(-2132889090,991336113),new a(-1680079193,633803317),new a(-1046744716,-815192428),new a(-459576895,-1628353838),new a(-272742522,944711139),new a(264347078,-1953704523),new a(604807628,2007800933),new a(770255983,1495990901),new a(1249150122,1856431235),new a(1555081692,-1119749164),new a(1996064986,-2096016459),new a(-1740746414,-295247957),new a(-1473132947,766784016),new a(-1341970488,-1728372417),new a(-1084653625,-1091629340),new a(-958395405,1034457026),new a(-710438585,-1828018395),new a(113926993,-536640913),new a(338241895,168717936),new a(666307205,1188179964),new a(773529912,1546045734),new a(1294757372,1522805485),new a(1396182291,-1651133473),new a(1695183700,-1951439906),new a(1986661051,1014477480),new a(-2117940946,1206759142),new a(-1838011259,344077627),new a(-1564481375,1290863460),new a(-1474664885,-1136513023),new a(-1035236496,-789014639),new a(-949202525,106217008),new a(-778901479,-688958952),new a(-694614492,1432725776),new a(-200395387,1467031594),new a(275423344,851169720),new a(430227734,-1194143544),new a(506948616,1363258195),new a(659060556,-544281703),new a(883997877,-509917016),new a(958139571,-976659869),new a(1322822218,-482243893),new a(1537002063,2003034995),new a(1747873779,-692930397),new a(1955562222,1575990012),new a(2024104815,1125592928),new a(-2067236844,-1578062990),new a(-1933114872,442776044),new a(-1866530822,593698344),new a(-1538233109,-561857047),new a(-1090935817,-1295615723),new a(-965641998,-479046869),new a(-903397682,-366583396),new a(-779700025,566280711),new a(-354779690,-840897762),new a(-176337025,-294727304),new a(116418474,1914138554),new a(174292421,-1563912026),new a(289380356,-1090974290),new a(460393269,320620315),new a(685471733,587496836),new a(852142971,1086792851),new a(1017036298,365543100),new a(1126000580,-1676669620),new a(1288033470,-885112138),new a(1501505948,-60457430),new a(1607167915,987167468),new a(1816402316,1246189591)]),i=0;80>i;i+=1)o[i]=new a(0,0);for(e[t>>5]|=128<<24-(31&t),e[(t+128>>10<<5)+31]=t,r=e.length,i=0;r>i;i+=32){for(l(D,u[0]),l(b,u[1]),l(v,u[2]),l(B,u[3]),l(C,u[4]),l(A,u[5]),l(E,u[6]),l(k,u[7]),n=0;16>n;n+=1)o[n].h=e[i+2*n],o[n].l=e[i+2*n+1];for(n=16;80>n;n+=1)d(q,o[n-2],19),f(O,o[n-2],29),p(_,o[n-2],6),x.l=q.l^O.l^_.l,x.h=q.h^O.h^_.h,d(q,o[n-15],1),d(O,o[n-15],8),p(_,o[n-15],7),F.l=q.l^O.l^_.l,F.h=q.h^O.h^_.h,y(o[n],x,o[n-7],F,o[n-16]);for(n=0;80>n;n+=1)S.l=C.l&A.l^~C.l&E.l,S.h=C.h&A.h^~C.h&E.h,d(q,C,14),d(O,C,18),f(_,C,9),x.l=q.l^O.l^_.l,x.h=q.h^O.h^_.h,d(q,D,28),f(O,D,2),f(_,D,7),F.l=q.l^O.l^_.l,F.h=q.h^O.h^_.h,N.l=D.l&b.l^D.l&v.l^b.l&v.l,N.h=D.h&b.h^D.h&v.h^b.h&v.h,w(c,k,x,S,m[n],o[n]),g(h,F,N),l(k,E),l(E,A),l(A,C),g(C,B,c),l(B,v),l(v,b),l(b,D),g(D,c,h);g(u[0],u[0],D),g(u[1],u[1],b),g(u[2],u[2],v),g(u[3],u[3],B),g(u[4],u[4],C),g(u[5],u[5],A),g(u[6],u[6],E),g(u[7],u[7],k)}for(i=0;8>i;i+=1)s[2*i]=u[i].h,s[2*i+1]=u[i].l;return s}function a(e,t){this.h=e,this.l=t}function l(e,t){e.h=t.h,e.l=t.l}function d(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n|t.l<<32-n}function f(e,t,n){e.l=t.h>>>n|t.l<<32-n,e.h=t.l>>>n|t.h<<32-n}function p(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n}function g(e,t,n){var i=(65535&t.l)+(65535&n.l),r=(t.l>>>16)+(n.l>>>16)+(i>>>16),o=(65535&t.h)+(65535&n.h)+(r>>>16),s=(t.h>>>16)+(n.h>>>16)+(o>>>16);e.l=65535&i|r<<16,e.h=65535&o|s<<16}function y(e,t,n,i,r){var o=(65535&t.l)+(65535&n.l)+(65535&i.l)+(65535&r.l),s=(t.l>>>16)+(n.l>>>16)+(i.l>>>16)+(r.l>>>16)+(o>>>16),a=(65535&t.h)+(65535&n.h)+(65535&i.h)+(65535&r.h)+(s>>>16),u=(t.h>>>16)+(n.h>>>16)+(i.h>>>16)+(r.h>>>16)+(a>>>16);e.l=65535&o|s<<16,e.h=65535&a|u<<16}function w(e,t,n,i,r,o){var s=(65535&t.l)+(65535&n.l)+(65535&i.l)+(65535&r.l)+(65535&o.l),a=(t.l>>>16)+(n.l>>>16)+(i.l>>>16)+(r.l>>>16)+(o.l>>>16)+(s>>>16),u=(65535&t.h)+(65535&n.h)+(65535&i.h)+(65535&r.h)+(65535&o.h)+(a>>>16),c=(t.h>>>16)+(n.h>>>16)+(i.h>>>16)+(r.h>>>16)+(o.h>>>16)+(u>>>16);e.l=65535&s|a<<16,e.h=65535&u|c<<16}var m,D=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,b=t&&"string"==typeof t.pad?t.pda:"=",v=t&&"boolean"==typeof t.utf8?t.utf8:!0;this.hex=function(e){return r(n(e))},this.b64=function(e){return h(n(e),b)},this.any=function(e,t){return c(n(e),t)},this.raw=function(e){return n(e,v)},this.hex_hmac=function(e,t){return r(i(e,t))},this.b64_hmac=function(e,t){return h(i(e,t),b)},this.any_hmac=function(e,t,n){return c(i(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(D=e),this},this.setPad=function(e){return b=e||b,this},this.setUTF8=function(e){return"boolean"==typeof e&&(v=e),this}},RMD160:function(t){function o(t){return t=w?e(t):t,u(l(a(t),8*t.length))}function s(t,n){t=w?e(t):t,n=w?e(n):n;var i,r,o=a(t),s=Array(16),c=Array(16);for(o.length>16&&(o=l(o,8*t.length)),i=0;16>i;i+=1)s[i]=909522486^o[i],c[i]=1549556828^o[i];return r=l(s.concat(a(n)),512+8*n.length),u(l(c.concat(r),672))}function u(e){var t,n="",i=32*e.length;for(t=0;i>t;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e,t){var r,o,s,a,u,c,h,l,g,y,w,B,C,A,E=1732584193,k=4023233417,F=2562383102,x=271733878,S=3285377520;for(e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t,a=e.length,s=0;a>s;s+=16){for(u=y=E,c=w=k,h=B=F,l=C=x,g=A=S,o=0;79>=o;o+=1)r=n(u,d(o,c,h,l)),r=n(r,e[s+m[o]]),r=n(r,f(o)),r=n(i(r,b[o]),g),u=g,g=l,l=i(h,10),h=c,c=r,r=n(y,d(79-o,w,B,C)),r=n(r,e[s+D[o]]),r=n(r,p(o)),r=n(i(r,v[o]),A),y=A,A=C,C=i(B,10),B=w,w=r;r=n(k,n(h,C)),k=n(F,n(l,A)),F=n(x,n(g,y)),x=n(S,n(u,w)),S=n(E,n(c,B)),E=r}return[E,k,F,x,S]}function d(e,t,n,i){return e>=0&&15>=e?t^n^i:e>=16&&31>=e?t&n|~t&i:e>=32&&47>=e?(t|~n)^i:e>=48&&63>=e?t&i|n&~i:e>=64&&79>=e?t^(n|~i):"rmd160_f: j out of range"}function f(e){return e>=0&&15>=e?0:e>=16&&31>=e?1518500249:e>=32&&47>=e?1859775393:e>=48&&63>=e?2400959708:e>=64&&79>=e?2840853838:"rmd160_K1: j out of range"}function p(e){return e>=0&&15>=e?1352829926:e>=16&&31>=e?1548603684:e>=32&&47>=e?1836072691:e>=48&&63>=e?2053994217:e>=64&&79>=e?0:"rmd160_K2: j out of range"}var g=t&&"boolean"==typeof t.uppercase?t.uppercase:!1,y=t&&"string"==typeof t.pad?t.pda:"=",w=t&&"boolean"==typeof t.utf8?t.utf8:!0,m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],D=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];this.hex=function(e){return r(o(e,w))},this.b64=function(e){return h(o(e,w),y)},this.any=function(e,t){return c(o(e,w),t)},this.raw=function(e){return o(e,w)},this.hex_hmac=function(e,t){return r(s(e,t))},this.b64_hmac=function(e,t){return h(s(e,t),y)},this.any_hmac=function(e,t,n){return c(s(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(g=e),this},this.setPad=function(e){return"undefined"!=typeof e&&(y=e),this},this.setUTF8=function(e){return"boolean"==typeof e&&(w=e),this}}},function(e,t){var n=!1;"object"==typeof exports&&(n=exports,exports&&"object"==typeof global&&global&&global===global.global&&(e=global)),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return l}):n?"object"==typeof module&&module&&module.exports===n?module.exports=l:n.Hashes=l:e.Hashes=l}(this)}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.jade=e()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e){return null!=e&&""!==e}function r(e){return(Array.isArray(e)?e.map(r):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(i).join(" ")}n.merge=function o(e,t){if(1===arguments.length){for(var n=e[0],r=1;r<e.length;r++)n=o(n,e[r]);return n}var s=e["class"],a=t["class"];(s||a)&&(s=s||[],a=a||[],Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]),e["class"]=s.concat(a).filter(i));for(var u in t)"class"!=u&&(e[u]=t[u]);return e},n.joinClasses=r,n.cls=function(e,t){for(var i=[],o=0;o<e.length;o++)i.push(t&&t[o]?n.escape(r([e[o]])):r(e[o]));var s=r(i);return s.length?' class="'+s+'"':""},n.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},n.attr=function(e,t,i,r){return"style"===e&&(t=n.style(t)),"boolean"==typeof t||null==t?t?" "+(r?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?(-1!==JSON.stringify(t).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),t&&"function"==typeof t.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'"):i?(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n.escape(t)+'"'):(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t+'"')},n.attrs=function(e,t){var i=[],o=Object.keys(e);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],u=e[a];"class"==a?(u=r(u))&&i.push(" "+a+'="'+u+'"'):i.push(n.attr(a,u,!1,t))}return i.join("")},n.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},n.rethrow=function s(t,n,i,r){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||r))throw t.message+=" on line "+i,t;try{r=r||e("fs").readFileSync(n,"utf8")}catch(o){s(t,null,i)}var a=3,u=r.split("\n"),c=Math.max(i-a,0),h=Math.min(u.length,i+a),a=u.slice(c,h).map(function(e,t){var n=t+c+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+i+"\n"+a+"\n\n"+t.message,t}},{fs:2}],2:[function(e,t,n){},{}]},{},[1])(1)}),function(){"use strict";var e,t;e=window.clique,t=window.clique={},t.noConflict=function(){var n=t;return t=e,n},t.model={},t.view={}}(),function(e){e.clique.template=e.clique.template||{},e.clique.template.cola=function(e){var t=[];return t.push('<g><g class="links"></g><g class="nodes"></g></g>'),t.join("")}}(window),function(e){e.clique.template=e.clique.template||{},e.clique.template.selectionInfo=function(e){var t,n=[],i={},r=e||{};return function(e,r,o,s){i.item=function(e,i){this&&this.block,this&&this.attributes||{};n.push('<tr><td class="text-right"><strong>'+jade.escape(null==(t=e)?"":t)+"</strong></td><td>"+jade.escape(null==(t=i)?"":t)+"</td></tr>")},n.push('<div class="container full-width">'),e.isUndefined(r)?n.push("<em>(Selection is empty)</em>"):(n.push('<nav><ul class="pagination"><li class="prev"><a aria-label="Previous" class="virtual-link prev"><span aria-hidden="true">&laquo;</span></a></li><li class="next"><a aria-label="Next" class="virtual-link next"><span aria-hidden="true">&raquo;</span></a></li></ul></nav><div class="container full-width"><div class="row"><div class="col-md-1"><table class="table table-striped table-bordered select-ok">'),i.item("key",r.key()),function(){var e=r.getAllData();if("number"==typeof e.length)for(var t=0,n=e.length;n>t;t++){var o=e[t];i.item(o[0],o[1])}else{var n=0;for(var t in e){n++;var o=e[t];i.item(o[0],o[1])}}}.call(this),n.push('</table></div></div><div class="row"><h5>Node</h5><button type="button" class="space-right btn btn-info btn-xs remove">Hide <span class="glyphicon glyphicon-eye-close"></span></button>'),n.push(r.deleted?'<button type="button" class="space-right btn btn-danger btn-xs delete">Undelete <span class="glyphicon glyphicon-remove"></span></button>':'<button type="button" class="space-right btn btn-danger btn-xs delete">Delete <span class="glyphicon glyphicon-remove"></span></button>'),n.push('<button type="button" class="btn btn-primary btn-xs expand">Expand <span class="glyphicon glyphicon-fullscreen"></span></button></div>'),o>1&&n.push('<div class="row"><h5>Selection</h5><button type="button" class="space-right btn btn-info btn-xs remove-sel">Hide <span class="glyphicon glyphicon-eye-close"></span></button><button type="button" class="space-right btn btn-danger btn-xs delete-sel">Delete <span class="glyphicon glyphicon-remove"></span></button><button type="button" class="btn btn-primary btn-xs expand-sel">Expand <span class="glyphicon glyphicon-fullscreen"></span></button></div>'),n.push("</div>")),n.push("</div>")}.call(this,"_"in r?r._:"undefined"!=typeof _?_:void 0,"node"in r?r.node:"undefined"!=typeof node?node:void 0,"selectionSize"in r?r.selectionSize:"undefined"!=typeof selectionSize?selectionSize:void 0,"undefined"in r?r.undefined:void 0),n.join("")}}(window),function(e,t,n){"use strict";e.adapter={},e.adapter.NodeLinkList=function(i){var r,o,s=e.util.deepCopy(i.nodes),a=e.util.deepCopy(i.links),u=i,c={},h={},l={},d={};return e.util.require(s,"nodes"),e.util.require(a,"links"),r=function(n){return t.has(c,n)?(t.has(d,n)||(d[n]=new e.util.Mutator({target:c[n]})),d[n]):void 0},window.matchmaker=o=function(n){var i,r,o,s;return t.has(n,"key")?(i=n.key,s=e.util.deepCopy(n),delete s.key,r=t.matcher(s),o=function(e){return r(e.data)&&e.key===i}):o=t.compose(t.matcher(n),t.property("data")),o},t.each(s,function(n){for(var i,r,o="data";t.has(n,o);)o+="x";r=n[o]={},t.each(n,function(e,t){t!==o&&(r[t]=e,delete n[t])}),"data"!==o&&(n.data=r,delete n[o]),i=e.util.md5(t.uniqueId()+JSON.stringify(n)),n.key=i,c[i]=n}),t.each(a,function(e){var t=s[e.source],n=s[e.target];h[t.key]=h[t.key]||{},h[t.key][n.key]=n.key,l[n.key]=l[n.key]||{},l[n.key][t.key]=t.key}),{findNodes:function(e){var i=new n.Deferred;return i.resolve(t.map(t.pluck(t.filter(s,o(e)),"key"),r)),i},findNode:function(e){var i=t.find(s,o(e)),a=new n.Deferred;return i&&(i=r(i.key)),a.resolve(i),a},neighborhood:function(i){var r,o=new e.util.Set,s=new e.util.Set,a=new n.Deferred;return e.util.require(i.center,"center"),e.util.require(i.radius,"radius"),i.center.setTransient("root",!0),r=new e.util.Set,(i.deleted||!i.center.getData("deleted"))&&(o.add(i.center.key()),r.add(i.center.key())),t.each(t.range(i.radius),function(){var n=new e.util.Set;t.each(r.items(),function(e){t.each(h[e],function(t){(i.deleted||!c[t].data.deleted)&&s.add(JSON.stringify([e,t]))}),t.each(l[e],function(t){(i.deleted||!c[t].data.deleted)&&s.add(JSON.stringify([t,e]))})}),t.each(s.items(),function(e){e=JSON.parse(e),o.has(e[0])||n.add(e[0]),o.has(e[1])||n.add(e[1]),o.add(e[0]),o.add(e[1])}),r=n}),a.resolve({nodes:t.map(o.items(),t.propertyOf(c)),links:t.map(s.items(),function(e){return e=JSON.parse(e),{source:e[0],target:e[1]}})}),a},sync:function(){u.nodes=e.util.deepCopy(t.pluck(s,"data"))}}}}(window.clique,window._,window.jQuery),function(e,t,n,i){"use strict";e.util={},e.util.md5=function(){var e=new t.MD5;return function(t){return e.hex(t)}}(),e.util.deepCopy=function(e){return n.isUndefined(e)?void 0:JSON.parse(JSON.stringify(e))},e.util.Set=function(){var e={};return{add:function(t){e[t]=null},remove:function(t){delete e[t]},has:function(t){return n.has(e,t)},items:function(t){var i=n.keys(e);return t&&(i=n.map(i,t)),i},size:function(){return n.size(e)}}},e.util.MultiTable=function(){var t={};return{add:function(i,r){n.has(t,i)||(t[i]=new e.util.Set),t[i].add(r)},remove:function(e,i){n.has(t,e)&&t[e].remove(i)},strike:function(e){delete t[e]},has:function(e,i){return n.has(t,e)&&(n.isUndefined(i)||t[e].has(i))},items:function(e){return n.has(t,e)?t[e].items():void 0}}},e.util.require=function(e,t){if(n.isUndefined(e))throw new Error("argument '"+t+"' is required")},e.util.Mutator=function(t){var r=t.target,o=t.disallowed||[];return e.util.require(r,"target"),function(){var t=o;o=new e.util.Set,n.each(t,function(e){o.add(e)})}(),n.extend({key:function(){return r.key},getTransient:function(e){return r[e]},setTransient:function(e,t){return"key"===e||o.has(e)?!1:(r[e]=t,!0)},clearTransient:function(e){return o.has(e)?!1:(delete r[e],
!0)},getAllData:function(){return n.pairs(r.data)},getData:function(e){return r.data[e]},setData:function(e,t){r.data[e]=t,this.trigger("changed",this,e,t)},clearData:function(e){delete r.data[e],this.trigger("cleared",this,e)},getTarget:function(){return r}},i.Events)}}(window.clique,window.Hashes,window._,window.Backbone),function(e,t,n){"use strict";var i=function(e){var t,i;return t=e.source,n.isString(t)||(t=t.key),i=e.target,n.isString(i)||(i=i.key),JSON.stringify([t,i])};e.Graph=t.Model.extend({constructor:function(e){t.Model.call(this,{},e||{})},initialize:function(t,n){e.util.require(n.adapter,"adapter"),this.adapter=new n.adapter(n.options),this.nodes={},this.links=new e.util.Set,this.forward=new e.util.MultiTable,this.back=new e.util.MultiTable,this.set({nodes:[],links:[]})},addNeighborhood:function(e){this.adapter.neighborhood(e).then(n.bind(function(e){var t=[],r=[];n.each(e.nodes,n.bind(function(e){n.has(this.nodes,e.key)||(this.nodes[e.key]=e,t.push(e))},this)),n.each(e.links,n.bind(function(e){var t=i(e);this.links.has(t)||(this.links.add(t),this.forward.add(e.source,e.target),this.back.add(e.target,e.source),e.source=this.nodes[e.source],e.target=this.nodes[e.target],r.push(e))},this)),this.set({nodes:this.get("nodes").concat(t),links:this.get("links").concat(r)})},this))},removeNeighborhood:function(t){var r,o,s,a,u,c,h;t=t||{},r=t.center,o=t.radius,e.util.require(r,"center"),e.util.require(o,"radius"),a=new e.util.Set,a.add(r.key()),s=new e.util.Set,s.add(r.key()),n.each(n.range(o),n.bind(function(){var t=new e.util.Set;n.each(s.items(),n.bind(function(e){var i=this.forward.items(e)||[],r=this.back.items(e)||[];n.each(i.concat(r),function(e){t.add(e),a.add(e)})},this)),s=t},this)),u=new e.util.Set,n.each(a.items(),n.bind(function(e){u.add(e),delete this.nodes[e],n.each(this.forward[e],n.bind(function(t){this.back.remove(t,e)},this)),n.each(this.back[e],n.bind(function(t){this.forward.remove(t,e)},this)),this.forward.strike(e),this.back.strike(e)},this)),c=n.filter(this.get("nodes"),function(e){return!u.has(e.key)}),h=[],n.each(this.get("links"),n.bind(function(e){u.has(e.source.key)||u.has(e.target.key)?this.links.remove(i(e)):h.push(e)},this)),this.set({nodes:c,links:h})}})}(window.clique,window.Backbone,window._),function(e,t,n){"use strict";e.model.Selection=t.Model.extend({initialize:function(){this.focalPoint=0},add:function(e){this.set(e,e),this.size()&&this.trigger("focused",this.focused())},remove:function(e){var t=this.focused()===e;this.unset(e),this.focalPoint>=this.size()?(this.focalPoint=Math.max(0,this.size()-1),this.trigger("focused",this.focused())):t&&this.focusLeft()},items:function(){return n.keys(this.attributes)},focusKey:function(e){var t=n.indexOf(this.items(),e);return-1===t?!1:(this.focus(t),!0)},focus:function(e){if(this.focalPoint=e,this.focalPoint<0)for(;this.focalPoint<0;)this.focalPoint+=this.size();else this.focalPoint>=this.size()&&(this.focalPoint=this.focalPoint%this.size());this.trigger("focused",this.focused())},focusLeft:function(){this.focus(this.focalPoint-1)},focusRight:function(){this.focus(this.focalPoint+1)},focused:function(){return this.items()[this.focalPoint]},size:function(){return n.size(this.attributes)}})}(window.clique,window.Backbone,window._),function(e,t,n,i,r){"use strict";var o,s;o=function(e){return e.key===this.focused?"crimson":e.root?"gold":"limegreen"},s=function(e){return e.selected?"2px":"0px"},e.view.Cola=t.View.extend({initialize:function(t){e.util.require(this.model,"model"),e.util.require(this.el,"el"),t=t||{},this.nodeRadius=t.nodeRadius||7.5,this.transitionTime=500,this.cola=r.d3adaptor().linkDistance(t.linkDistance||100).avoidOverlaps(!0).size([this.$el.width(),this.$el.height()]).start(),this.selection=new e.model.Selection,this.$el.html(e.template.cola()),this.listenTo(this.model,"change",n.debounce(this.render,100)),this.listenTo(this.selection,"focused",function(e){this.focused=e,this.renderNodes()})},renderNodes:function(){this.nodes.style("fill",n.bind(o,this)).style("stroke","blue").style("stroke-width",n.bind(s,this))},render:function(){var e,t=this.model.get("nodes"),r=this.model.get("links"),o=i.select(this.el),s=this;this.cola.nodes(t).links(r),this.nodes=o.select("g.nodes").selectAll("circle.node").data(t,n.property("key")),e=this.cola.drag().on("drag",n.bind(function(){this.dragging=!0},this)),this.nodes.datum(function(e){return e.fixed=!0,e}),this.nodes.enter().append("circle").classed("node",!0).attr("r",0).style("fill","limegreen").on("mousedown.signal",n.bind(function(){i.event.stopPropagation()},this)).on("click",function(e){s.dragging||(i.event.shiftKey?e.selected=!e.selected:i.event.ctrlKey?(e.selected=!0,s.selection.add(e.key),s.selection.focusKey(e.key)):(n.each(s.selection.items(),function(e){s.selection.remove(e)}),i.select(s.el).selectAll("circle.node").datum(function(e){return e.selected=!1,e}),e.selected=!0),e.selected?s.selection.add(e.key):s.selection.remove(e.key),s.renderNodes()),s.dragging=!1}).call(e).transition().duration(this.transitionTime).attr("r",this.nodeRadius),this.renderNodes(),this.nodes.exit().each(n.bind(function(e){this.selection.remove(e.key)},this)).transition().duration(this.transitionTime).attr("r",0).style("opacity",0).remove(),this.links=o.select("g.links").selectAll("line.link").data(r,function(e){return JSON.stringify([e.source.key,e.target.key])}),this.links.enter().append("line").classed("link",!0).style("stroke-width",0).style("stroke","black").transition().duration(this.transitionTime).style("stroke-width",1),this.links.exit().transition().duration(this.transitionTime).style("stroke-width",0).style("opacity",0).remove(),this.cola.on("tick",n.bind(function(){this.nodes.attr("cx",n.property("x")).attr("cy",n.property("y")),this.links.attr("x1",n.compose(n.property("x"),n.property("source"))).attr("y1",n.compose(n.property("y"),n.property("source"))).attr("x2",n.compose(n.property("x"),n.property("target"))).attr("y2",n.compose(n.property("y"),n.property("target")))},this)),function(){var e,t,n=[1,0,0,1,0,0];e=function(e,t){n[4]+=e,n[5]+=t,o.select("g").attr("transform","matrix("+n.join(" ")+")")},t=function(e,t){n[0]*=e,n[3]*=e,n[4]*=e,n[5]*=e,n[4]+=(1-e)*t[0],n[5]+=(1-e)*t[1],o.select("g").attr("transform","matrix("+n.join(" ")+")")},function(){var t,n=!1;o.on("mousedown.pan",function(){3===i.event.which&&(n=!0)}),o.on("mousemove.pan",function(){n&&e(i.event.movementX,i.event.movementY)}),t=function(){n=!1},o.on("mouseup.pan",t),i.select(document).on("mouseup.pan",t)}(),o.on("wheel.zoom",function(){var e=1+Math.abs(i.event.deltaY)/200;i.event.deltaY>0&&(e=1/e),t(e,[i.event.pageX-s.$el.offset().left,i.event.pageY-s.$el.offset().top])}),i.select(document.body).on("wheel",function(){i.event.preventDefault(),i.event.stopPropagation()})}(),function(){var e,t,r,a,u=!1,c=!1,h={x:null,y:null},l={x:null,y:null},d=function(e,t,n){var i;return t>n&&(i=n,n=t,t=i),e>t&&n>e};o.on("mousedown.select",function(){1===i.event.which&&(c=!0,u=!1,i.event.shiftKey||(n.each(s.model.get("nodes"),function(e){e.selected=!1,s.selection.remove(e.key)}),s.renderNodes()),e=s.$el.offset(),h.x=l.x=i.event.pageX-e.left,h.y=l.y=i.event.pageY-e.top)}),o.on("mousemove.select",function(){var n,r;c&&(u||(u=!0,c&&(t=o.append("rect").classed("selector",!0).attr("x",h.x).attr("y",h.y).attr("width",0).attr("height",0).style("opacity",.1).style("fill","black"))),l.x=n=i.event.pageX-e.left,l.y=r=i.event.pageY-e.top),c&&(n>h.x?t.attr("width",n-h.x):t.attr("width",h.x-n).attr("x",n),r>h.y?t.attr("height",r-h.y):t.attr("height",h.y-r).attr("y",r))}),r=function(e,t){var n=1/e[0],i={x:-e[4]*n,y:-e[5]*n};return{x:n*t.x+i.x,y:n*t.y+i.y}},a=function(){var e;c&&(u&&(o.selectAll(".selector").remove(),t=null),e=(o.select("g").attr("transform")||"matrix(1 0 0 1 0 0)").slice("matrix(".length,-1).split(" ").map(Number),h=r(e,h),l=r(e,l),n.each(s.model.get("nodes"),function(e){d(e.x,h.x,l.x)&&d(e.y,h.y,l.y)&&(e.selected=!0,s.selection.add(e.key))}),s.renderNodes()),u=!1,c=!1},o.on("mouseup.select",a),i.select(document).on("mouseup.select",a)}(),this.cola.start(),n.delay(n.bind(function(){this.nodes.datum(function(e){return e.fixed=!1,e})},this),this.transitionTime+5)}})}(window.clique,window.Backbone,window._,window.d3,window.cola),function(e,t,n){"use strict";e.view.SelectionInfo=t.View.extend({initialize:function(t){var i;e.util.require(this.model,"model"),e.util.require(t.graph,"graph"),t=t||{},this.graph=t.graph,i=n.debounce(this.render,100),this.listenTo(this.model,"change",i),this.listenTo(this.model,"focused",i),this.listenTo(this.graph,"change",i)},hideNode:function(e){e.setTransient("selected",!1),e.clearTransient("root"),this.graph.removeNeighborhood({center:e,radius:0})},deleteNode:function(e,t){t?(e.setData("deleted",!0),this.hideNode(e)):(e.clearData("deleted"),this.render())},expandNode:function(e){this.graph.addNeighborhood({center:e,radius:1})},render:function(){var t,i;i=n.bind(function(t){this.$el.html(e.template.selectionInfo({node:t,selectionSize:this.model.size()})),this.$("a.prev").on("click",n.bind(function(){this.model.focusLeft()},this)),this.$("a.next").on("click",n.bind(function(){this.model.focusRight()},this)),this.$("button.remove").on("click",n.bind(function(){this.graph.adapter.findNode({key:this.model.focused()}).then(n.bind(this.hideNode,this))},this)),this.$("button.remove-sel").on("click",n.bind(function(){n.each(this.model.items(),n.bind(function(e){this.graph.adapter.findNode({key:e}).then(n.bind(this.hideNode,this))},this))},this)),this.$("button.delete").on("click",n.bind(function(){this.graph.adapter.findNode({key:this.model.focused()}).then(n.bind(function(e){this.deleteNode(e,!e.getData("deleted"))},this))},this)),this.$("button.delete-sel").on("click",n.bind(function(){n.each(this.model.items(),n.bind(function(e){this.graph.adapter.findNode({key:e}).then(n.bind(this.deleteNode,this,n,!0))},this))},this)),this.$("button.expand").on("click",n.bind(function(){this.graph.adapter.findNode({key:this.model.focused()}).then(n.bind(this.expandNode,this))},this)),this.$("button.expand-sel").on("click",n.bind(function(){n.each(this.model.items(),n.bind(function(e){this.graph.adapter.findNode({key:e}).then(n.bind(this.expandNode,this))},this))},this))},this),t=this.model.focused(),t?this.graph.adapter.findNode({key:t}).then(i):i(t)}})}(window.clique,window.Backbone,window._);